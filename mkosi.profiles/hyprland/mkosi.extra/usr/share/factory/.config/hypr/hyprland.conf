#Light Mode
#source=~/.config/hypr/latte.conf

#Dark Mode
source=~/.config/hypr/mocha.conf


env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland

env = GDK_BACKEND,wayland
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = QT_AUTO_SCREEN_SCALE_FACTOR,1

env = SDL_VIDEODRIVER,wayland,x11
env = _JAVA_AWT_WM_NONREPARENTING,1
env = WLR_NO_HARDWARE_CURSORS,1
env = OZONE_PLATFORM,wayland

env = CLUTTER_BACKEND,wayland


env = HYPRCURSOR_THEME,catppuccin-mocha-dark-cursors
env = HYPRCURSOR_SIZE,18

env = XCURSOR_THEME, catppuccin-mocha-dark-cursors
env = XCURSOR_SIZE,18

env = LIBVA_DRIVER_NAME,radeonsi
env = VDPAU_DRIVER,radeonsi

env = TERMINAL,kitty


#exec = gsettings set org.gnome.desktop.interface gtk-theme 'catppuccin-mocha-lavender'
#exec = gsettings set org.gnome.desktop.interface icon-theme 'Papirus-Dark'
#exec = gsettings set org.gnome.desktop.interface cursor-theme 'catppuccin-mocha-dark-cursors'
exec = gsettings set org.gnome.desktop.interface font-name 'JetBrainsMono Nerd Font'

monitor=eDP-1,1920x1080@60,0x0,1,vrr, 1
#monitor=desc:Samsung Electric Company SyncMaster H9MS504221,1600x900@60,auto-left,1,
monitor=desc:LG Electronics W2043 0x0002C7C0,1600x900@60,auto-left,1,
#monitor = , preferred, auto, 1, mirror, eDP-1

workspace = special:special,defaultName:Media
workspace = name:Media, gapsout:100
#exec-once = aa-notify -p -s 1 -w 60 -f /var/log/audit/audit.log
#exec-once = gnome-keyring-daemon --start --components=secrets
#exec-once = hyprpm reload
#exec-once = uwsm app -- darkman run
exec-once = uwsm app -- fusuma -d
exec-once = uwsm app -- udiskie
exec-once = uwsm app -- syshud
exec-once = clipse -listen
#exec-once = uwsm app -- hyprpaper
#exec-once = uwsm app -- hypridle
#exec-once = uwsm app -- hyprpolkitagent
#exec-once = uwsm app -- swaync
#exec-once = uwsm app -- waybar

$mainMod = SUPER

bind = $mainMod, T, exec, uwsm app -- kitty
bind = $mainMod, K, killactive,
bind = $mainMod, Escape, exec, uwsm app -- wlogout -l .config/wlogout/bind
bind = $mainMod, F, exec, kitty vifm -c vsplit ~
#bind = $mainMod, M, exec, uwsm app -- $(wofi --show drun --define=drun-print_desktop_file=true)
bind = $mainMod, M, exec, wofi --show drun

bind = $mainMod, Right, workspace, r+1
bind = $mainMod, Left, workspace, r-1
bind = CTRL ALT, Left, movecurrentworkspacetomonitor, l
bind = CTRL ALT, Right, movecurrentworkspacetomonitor, r
bind = $mainMod ALT, Right, movewindow, r
bind = $mainMod ALT, Left, movewindow, l
bind = $mainMod, Up, togglespecialworkspace
bind = $mainMod, Down, togglespecialworkspace
bind = $mainMod Shift, Up, movetoworkspace, special
bind = $mainMod Shift, Down, movetoworkspace, 1
bind = $mainMod Shift, Right, movetoworkspace, r+1
bind = $mainMod Shift, Left, movetoworkspace, r-1


bind = $mainMod, L, exec, loginctl lock-session
bindl =, XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel =, XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%+
bindel=, XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%-
bind = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindle=,XF86MonBrightnessUp,exec, brightnessctl s 5%+
bindle=,XF86MonBrightnessDown,exec, brightnessctl s 5%-


bindm=$mainMod, mouse:273, resizewindow
bindm = $mainMod, mouse:272, movewindow
bind = $mainMod, H, layoutmsg, swapwithmaster
bind = , XF86SelectiveScreenshot, exec, grim -g "$(slurp)"
bindl = , Print, exec, grim
bind = $mainMod, C, exec, uwsm app -- google-chrome-stable --enable-features=TouchpadOverscrollHistoryNavigation
bind = $mainMod, N, togglefloating,
bind = $mainMod, B, fullscreen, 1
bindl=, XF86AudioPlay, exec, playerctl play-pause
bindl=, XF86AudioPause, exec, playerctl pause
bindl=, XF86AudioNext, exec, playerctl next
bindl=, XF86AudioPrev, exec, playerctl previous

bind = SUPER, V, exec, kitty --class clipse -e zsh -c 'clipse'

bindl = , switch:off:Lid Switch,exec,hyprctl keyword monitor "eDP-1, 1920x1080@60, 0x0, 1"
bindl = , switch:on:Lid Switch,exec,hyprctl keyword monitor "eDP-1, disable"
bind = $mainMod, period,exec, uwsm app -- bemoji #TODO add -t when bug is fixed

#windowrulev2 = persistentsize, class:*  TODO Hyprland git only as of today
windowrulev2 = opaque,class:(google-chrome),title:(^.*\bYouTube\b.*$)

windowrulev2 = opaque always, class:(vlc)
windowrulev2 = idleinhibit always, class:(vlc)
windowrulev2 = suppressevent maximize, class:.*
windowrulev2 = float, class:(jetbrains-toolbox)
windowrulev2 = pin,class:(jetbrains-toolbox)
windowrulev2 = noinitialfocus,class:(jetbrains-toolbox)
windowrulev2 = float, class:(jetbrains*), title:(^Welcome*)
windowrulev2 = size 20% 20%, class:(jebtains*), title:(^Welcome*)
windowrulev2 = opacity 1 override 1 override,class:jetbrains-studio
# fix tooltips (always have a title of `win.<id>`)
#windowrulev2 = noinitialfocus, class:^(.*jetbrains.*)$, title:^(win.*)$
#windowrulev2 = nofocus, class:^(.*jetbrains.*)$, title:^(win.*)$
# fix tab dragging (always have a single space character as their title)
#windowrulev2 = noinitialfocus, class:^(.*jetbrains.*)$, title:^\\s$
#windowrulev2 = nofocus, class:^(.*jetbrains.*)$, title:^\\s$

windowrulev2 = float, class:(btop)
windowrulev2 = size 1157 725,class:(btop)
windowrulev2 = float,class:(impala)
windowrulev2 = size 1157 725,class:(impala)
windowrulev2 = float,class:(blueman-manager)
windowrulev2 = size 1157 725,class:(blueman-manager)
windowrulev2 = float, class:(clipse)
windowrulev2 = size 622 652, class:(clipse)
windowrulev2 = float,class:(udiskie)
windowrulev2 = float,class:(xdg-desktop-portal-gtk)
windowrulev2 = size 1290 726, class:(xdg-desktop-portal-gtk) #16:9
windowrulev2 = float,initialClass:vifmSelection
windowrulev2 = size 1157 725,initialClass:vifmSelection
windowrulev2 = syncfullscreen 0,initialClass:Spotify, workspace:name:Media
windowrulev2 = fullscreen,class:*, workspace:name:Code
windowrulev2 = maximize,class:*, workspace:name:Code


gesture = 3, horizontal, workspace
# TODO gesture = 3, up,  dispatcher, exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%+

master {
    allow_small_split = false
    special_scale_factor = 1
    mfact = 0.7
    new_status = slave
    new_on_top = false
    new_on_active = after
}

general {
    border_size = 3
    no_border_on_floating = false
    gaps_in = 5
    gaps_out = 10
    gaps_workspaces = 0
    col.inactive_border = $lavender
    col.active_border = $sapphire
    layout = master
    no_focus_fallback = false
    resize_on_border = true
    extend_border_grab_area = 30
    hover_icon_on_border = true
    resize_corner = 0
    allow_tearing = true

    snap{
        enabled = true
        window_gap = 10
        window_gap = 10
        border_overlap = false
    }
}

decoration {
    rounding = 10
    active_opacity = 1
    inactive_opacity = 0.8
    fullscreen_opacity = 1
    dim_inactive = true
    dim_strength = 0.2
    dim_special = 0.6
    dim_around = 0.2

    blur {
        enabled = true
        size = 1
        passes = 3
        ignore_opacity = false
        new_optimizations = true
        xray = true
        noise = 0
        contrast = 1
        brightness = 2
        vibrancy = 1
        vibrancy_darkness = 0
        special = true
        popups = false #True causes chrome to be buggy
    }

    shadow {
        enabled = true
        range = 16
        render_power = 4
        sharp = false
        ignore_window = true
	color = $sapphire
        color_inactive = $mantle
        scale = 1
    }
}

animations {
    enabled = true
    #first_launch_animation = true

    bezier = easeOutQuint, 0.05, 0.9, 0.1, 1.05

    animation = windowsIn, 1,10, easeOutQuint, slide
    animation = windowsOut, 1,10, easeOutQuint, popin
    animation = windowsMove, 1,10, easeOutQuint, slide


    #TODO BROKEN?
    animation = layersIn, 1,10, easeOutQuint, fade
    animation = layersOut, 1,10, easeOutQuint, fade

    animation = fade, 1, 10, easeOutQuint

    animation = border, 1, 10, easeOutQuint
    animation = borderangle, 1, 10, easeOutQuint, once


    animation = workspaces, 1, 10, easeOutQuint, slide


    animation = specialWorkspaceOut, 1, 10, easeOutQuint, slidefadevert
    animation = specialWorkspaceIn, 1, 10, easeOutQuint, slidefadevert




}

input {
    kb_model = pc105
    kb_layout = us,gr
    kb_options = grp:alt_shift_toggle
    numlock_by_default = true
    resolve_binds_by_sym = false
    repeat_rate = 25
    repeat_delay = 600
    sensitivity = 0
    accel_profile = adaptive
    force_no_accel = false
    left_handed = false
    scroll_method = 2fg
    scroll_factor = 1
    natural_scroll = false
    follow_mouse = 1
    focus_on_close = 0
    float_switch_override_focus = 0
    special_fallthrough = false
    emulate_discrete_scroll = 1
    float_switch_override_focus=1

    touchpad {
        disable_while_typing = true
        natural_scroll = true
        scroll_factor = 1
        middle_button_emulation = false
        clickfinger_behavior = false
        tap-to-click = true
        drag_lock = false
        tap-and-drag = true
    }
}

gestures {
    #workspace_swipe = true
    #workspace_swipe_fingers = 3
    workspace_swipe_create_new = true
}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    font_family = 'JetBrainsMono Nerd Font'
    vfr = true
    vrr = 1
    mouse_move_enables_dpms = true
    key_press_enables_dpms = true
    always_follow_on_dnd = true
    layers_hog_keyboard_focus = true
    animate_manual_resizes = true
    animate_mouse_windowdragging = true

    disable_autoreload = false #TODO SET IT TO ON FOR BATTERY
    enable_swallow = false
    focus_on_activate = true
    allow_session_lock_restore = true
    close_special_on_empty = true
    initial_workspace_tracking = 1
    middle_click_paste = false
}

binds {
    pass_mouse_when_bound = false
    workspace_center_on = 1
    disable_keybind_grabbing = false
}

xwayland {
    enabled = true
    use_nearest_neighbor = true
    force_zero_scaling = true
}
opengl {
    #force_introspection = 1
}
render {
    direct_scanout = true
    expand_undersized_textures = true

}

cursor {
    sync_gsettings_theme = true
    no_hardware_cursors = 2
    enable_hyprcursor = true
    hide_on_key_press = false
}

debug {
    overlay = false
    colored_stdout_logs = true
}

plugin {
#    hyprbars {
 #       bar_height = 38
  #      bar_color = $surface0
   #     col.text = $text
    #    bar_text_size = 12
     #   bar_text_font = Jetbrains Mono Nerd Font Mono Bold
      #  bar_button_padding = 12
       # bar_padding = 10
        #bar_precedence_over_border = true
#        hyprbars-button = $color1, 20, , hyprctl dispatch killactive
 #       hyprbars-button = $color3, 20, , hyprctl dispatch fullscreen 2
  #      hyprbars-button = $color4, 20, , hyprctl dispatch togglefloating
   #}
    #hyprexpo {
     #   columns = 3
      #  gap_size = 5
       # bg_col = rgb(111111)
        #workspace_method = first 1 # current # [center/first] [workspace] e.g. first 1 or center m+1

#        enable_gesture = true # laptop touchpad
 #       gesture_fingers = 3  # 3 or 4
  #      gesture_distance = 300 # how far is the "max"
   #     gesture_positive = false # positive = swipe down. Negative = swipe up.
    #}
	overview {
            autoDrag = true
	    exitOnSwitch = true
	    showSpecialWorkspace = true
            reverseSwipe = false
	    onBottom = true
	    affectStrut = true
	}
#}

}

ecosystem:no_update_news = true
